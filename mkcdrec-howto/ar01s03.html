<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>3. Booting from a mkCDrec CD-ROM</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="mkCDrec Howto"><link rel="up" href="index.html" title="mkCDrec Howto"><link rel="prev" href="ar01s02.html" title="2. Make the Disaster Recovery CD-ROM"><link rel="next" href="ar01s04.html" title="4. Restoring with start-restore.sh"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Booting from a mkCDrec CD-ROM</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s02.html">Terug</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ar01s04.html">Volgende</a></td></tr></table><hr></div><div class="sect1" lang="nl-NL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e398"></a>3. Booting from a mkCDrec CD-ROM</h2></div></div></div><div class="sect2" lang="nl-NL"><div class="titlepage"><div><div><h3 class="title"><a name="d0e401"></a>3.1. x86 and x86_64 platforms</h3></div></div></div><p>To be able to boot from a CD-ROM made by mkCDrec make sure the computer&#8217;s BIOS is capable of booting off a CD. Therefore, it might be necessary to enter the Setup and modify the boot sequence as follow:</p><p></p><p><img src="resources/bios.jpg" width="354"></p><p></p><p>You will see a message from syslinux (or isolinux) when the boot process starts from the CD-ROM.</p><p></p><p><img src="resources/boot0.jpg" width="567"></p><p></p><p>Then the boot process stops and waits on your input (isolinux only, when mkCDrec Utilities are installed). To boot from the CD-ROM enter option 2.</p><p></p><p><img src="resources/boot1.jpg" width="531"></p><p></p><p>Once option 2 has been entered and the enter key has been pressed the boot process continues with loading the Linux kernel and the initial RAM disk.</p><p><img src="resources/mkCDrec_howto_html_m392d5ff9.jpg" width="319"></p><p></p><p>As you can see the initial RAM disk gets loaded and uncompressed into the computer&#8217;s memory and it launches linuxrc that is part of the initial RAM disk.</p><p></p><p><img src="resources/mkCDrec_howto_html_m33f52e4.jpg" width="461"></p><p></p><p>The initial RAM disk duty is to find the CD-ROM drive device and to load the necessary loadable kernel modules. Once the CD-ROM device gets mounted the initial RAM disk will read and uncompress the bigger root file system into main memory. If this step is successful it will activate the root file system via pivot_root (for linux kernel 2.4 and above) as shown below.</p><p></p><p><img src="resources/mkCDrec_howto_html_m53271be3.jpg" width="602"></p><p></p><p>The root file system uses BusyBox, the Swiss nice under Linux tool boxes, as an all-in-one utility among many other Unix binaries. Once BusyBox activation is successful you will see a more or less normal boot sequence all be it much less then a normal Linux distribution.</p><p></p><p>It boots up to the point you will see a prompt appearing. No root password is required to get started.</p><p>MkCDrec has 5 console login screens behind each ALT-F1 to ALT-F5 key combinations. Maybe, you will notice that the 5th screen is a bit different as it requests a user and password via the login process.</p><p></p><p>Valid users are root, admin or mkcdrec and the password is &#8220;<span class="bold"><strong>mkCDrec</strong></span>&#8221;. The idea is to add an automatic menu behind it to simplify the restore/recover situation.</p><p></p><p>So far mkCDrec disaster recovery is mend for administrators, which are used to work with command line interfaces.</p><p></p><p><img src="resources/mkCDrec_howto_html_64d9268f.jpg" width="638"></p><p></p><p>From this point on you can use mkCDrec as a rescue tool or for any other non-destructive purposes.</p><p></p><div class="informaltable"><table border="1"><colgroup><col width="100%"></colgroup><tbody><tr><td><p>Please note that mkCDrec CD-ROMs are a very powerful tool if used by the wrong people, if you understand what I mean. Keep the images (CD-ROMs) in a safe place!</p></td></tr></tbody></table></div><p></p></div><div class="sect2" lang="nl-NL"><div class="titlepage"><div><div><h3 class="title"><a name="d0e470"></a>3.2. IA64 (itanium) architecture</h3></div></div></div><p>The Itanium systems are using ELF to bootstrap the Linux kernel, therefore, we cannot use e.g. isolinux to create a bootable CD-ROM image.</p><p>The EFI Shell is a console interface used to launch applications (such as the Red Hat Enterprise Linux installation program), load EFI protocols and device drivers, and execute simple scripts. It is similar to a DOS console and can only access media that is FAT16 (VFAT) formatted.</p><p>The EFI Shell also contains common utilities that can be used on the EFI system partition. These utilities include edit, type, cp, rm, and mkdir. For a list of utilities and other commands, type help at the EFI Shell prompt.</p><p>The EFI Shell contains a bootloader called ELILO. Additional information on EFI can be found at the following URL:</p><p><a href="http://developer.intel.com/technology/efi/index.htm" target="_top">http://developer.intel.com/technology/efi/index.htm</a></p><p></p><p>Each Itanium system contains a FAT16 (VFAT) system partition that is mounted on /boot/efi which contains the Linux kernel as well as the ELILO configuration file (elilo.conf).</p><p></p><p>Mkcdrec creates a bootable image for CD-ROM and a recovery image stored under the /boot/efi/efi/recovery directory.</p><p></p><p>Important notice is that you better enable <em class="firstterm">SERIAL=&#8221;ttyS0&#8221;</em> in the <code class="filename">Config.sh</code> file if you want to work with the LAN console and have no real access to any VGA console.</p><p>To boot from the local EFI partition interrupt the boot process and enter the EFI shell and select the local disk (e.g. fs0: ) and cd to efi/revovery and type elilo to boot (without any physical CD-ROM made).</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s02.html">Terug</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ar01s04.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">2. Make the Disaster Recovery CD-ROM&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top">&nbsp;4. Restoring with start-restore.sh</td></tr></table></div></body></html>