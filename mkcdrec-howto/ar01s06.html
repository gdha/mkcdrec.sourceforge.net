<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>6. Restoring a single file system with restore-fs.sh</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="mkCDrec Howto"><link rel="up" href="index.html" title="mkCDrec Howto"><link rel="prev" href="ar01s05.html" title="5. Cloning with clone-dsk.sh"><link rel="next" href="ar01s07.html" title="7. Restoring with HP Openview Storage Data Protector"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. Restoring a single file system with restore-fs.sh</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s05.html">Terug</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ar01s07.html">Volgende</a></td></tr></table><hr></div><div class="sect1" lang="nl-NL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e748"></a>6. Restoring a single file system with restore-fs.sh</h2></div></div></div><p>Sometimes you do not want to restore a complete system or just one disk, but only one particular file system. In that case restore-fs.sh is the script you need. If the archives are not on a CD-ROM make sure the tape is inserted, or the file system has been mounted where original backups were stored on.</p><p>As before go into the <code class="filename">/etc/recovery</code> directory and type <code class="filename">./restore-fs.sh</code> to launch it.</p><p></p><p><img src="resources/resfs1.jpg" width="620"></p><p></p><p>This script has been kept as simple as possible, just follow the questions.</p><p></p><p><img src="resources/resfs2.jpg" width="407"></p><p></p><p><img src="resources/resfs3.jpg" width="461"></p><p></p><p>Do not worry the following question will ask you on which partition you want to restore:</p><p><img src="resources/resfs4.jpg" width="620"></p><p></p><p>Be aware; make no mistake on which partition you select! Otherwise unpleasant situations can be created.</p><p>The next question gives you the chance to change the original file system type! However, only select the file system type you can actually use. With other words make sure that your Linux kernel is capable of using the select type and for which you have the necessary tools on board.</p><p></p><p><img src="resources/resfs5.jpg" width="531"></p><p></p><p>It will create a file system on your partition, one of the list above, and only then the following question will be asked.</p><p></p><p><img src="resources/resfs7.jpg" width="567"></p><p></p><p>Select Y to restore the archive from the backup medium, be it CD-ROM, tape or anther disk.</p><p></p><p><img src="resources/resfs8.jpg" width="514"></p><p></p><p>Do manually a &#8220;<span class="emphasis"><em>chroot /mnt/local</em></span> &#8220; and edit <code class="filename">/etc/lilo.conf </code>file if needed. Thereafter, just run &#8220;<span class="emphasis"><em>lilo</em></span>&#8221; to make the disk bootable.</p><p></p><p><img src="resources/resfs9.jpg" width="354"></p><p></p><p>The file system has been restored and in our case we activated lilo too. We are ready to reboot the system.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s05.html">Terug</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ar01s07.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">5. Cloning with clone-dsk.sh&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top">&nbsp;7. Restoring with HP Openview Storage Data Protector</td></tr></table></div></body></html>